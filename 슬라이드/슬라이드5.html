<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>실험 전체 조감도</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="../Pretendard-1.3.9/web/static/pretendard.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Pretendard', sans-serif;
    }
    .slide {
        width: 1280px;
        height: 720px;
        background-color: #FFFFFF;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    .accent-shape {
        position: absolute;
        top: -200px;
        right: -200px;
        width: 800px;
        height: 800px;
        border-radius: 50%;
        background: rgba(247, 47, 8, 0.05);
        z-index: 0;
    }
    .content-container {
        position: relative;
        z-index: 10;
        padding: 2.5rem 3rem;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    .header-bar {
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
    }
    .main-title {
        font-family: 'Pretendard', sans-serif;
        font-weight: 900;
        font-size: 2.5rem;
        color: #333333;
        line-height: 1.1;
        letter-spacing: -1px;
        margin-bottom: 0.25rem;
    }
    .sub-title {
        font-size: 1rem;
        color: #666;
        font-weight: 500;
        margin-bottom: 1rem;
    }
    
    /* Left Column */
    .summary-card {
        background-color: #F8F9FA;
        border-left: 5px solid rgba(247, 47, 8, 0.9);
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.02);
    }
    .stat-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px dashed #e5e7eb;
    }
    .stat-row:last-child {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
    }
    .stat-label {
        font-weight: 500;
        color: #555;
        font-size: 0.9rem;
    }
    .stat-value {
        font-weight: 700;
        color: #333;
        font-size: 1rem;
    }
    
    .insight-box {
        background-color: #333;
        color: white;
        padding: 1rem;
        border-radius: 12px;
        margin-top: auto;
    }
    
    .findings-box {
        background-color: #F8F9FA;
        padding: 1rem;
        border-radius: 12px;
        margin-bottom: 1rem;
        flex-grow: 1;
    }
    
    /* Chart Container */
    .chart-wrapper {
        background: white;
        border: 1px solid #E9ECEF;
        border-radius: 12px;
        padding: 1rem;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        height: 100%;
        position: relative;
    }
    
    .badge-success {
        background-color: #dbeafe;
        color: #1e40af;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 600;
    }
    .badge-fail {
        background-color: #f3f4f6;
        color: #4b5563;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 600;
    }

    .text-brand { color: rgba(247, 47, 8, 0.9); }
    .bg-brand { background-color: rgba(247, 47, 8, 0.9); }
    .border-brand { border-color: rgba(247, 47, 8, 0.7); }
    .bg-brand-light { background-color: rgba(247, 47, 8, 0.1); }
    .text-brand-light { color: #FF9E80; }
    .border-brand-light { border-color: #FF9E80; }
</style>
</head>
<body>
<div class="slide">
<div class="accent-shape"></div>
<div class="content-container">
<!-- Header -->
<div class="header-bar">
<div class="flex items-center text-brand">
<i class="fas fa-chart-bar mr-2"></i>
<span class="font-bold tracking-wide text-sm">EXPERIMENT OVERVIEW</span>
</div>
</div>
<!-- Title -->
<div>
<h1 class="main-title">실험 전체 조감도</h1>
<p class="sub-title">실험 과정과 성능 추이</p>
</div>
<div class="flex gap-6 h-full pb-2">
<!-- Left Column: Summary Text -->
<div class="w-4/12 flex flex-col">
<!-- Summary Stats -->
<div class="summary-card">
<h3 class="text-base font-bold text-gray-800 mb-2 flex items-center">
<i class="fas fa-clipboard-list mr-2 text-brand"></i> 실험 요약
                </h3>
<div class="stat-row">
<span class="stat-label">총 실험 횟수</span>
<span class="stat-value">10회</span>
</div>
<div class="stat-row">
<span class="stat-label">Baseline</span>
<span class="stat-value text-red-500">51.58%</span>
</div>
<div class="stat-row">
<span class="stat-label">최고 성능</span>
<span class="stat-value text-brand">56.76%</span>
</div>
<div class="stat-row">
<span class="stat-label">성능 향상폭</span>
<span class="stat-value bg-brand-light text-brand px-2 py-1 rounded text-sm">+5.18%p</span>
</div>
</div>
<!-- Key Findings List -->
<div class="findings-box">
<h4 class="font-bold text-gray-700 mb-2 text-xs uppercase tracking-wide">주요 결과</h4>
<ul class="space-y-2">
<li class="flex items-start">
<i class="fas fa-check-circle text-brand mt-1 mr-2 text-sm"></i>
<div>
<p class="font-bold text-gray-800 text-xs">Hybrid Search + WRRF</p>
<p class="text-xs text-gray-500">가장 안정적이고 높은 성능 기록</p>
</div>
</li>
<li class="flex items-start">
<i class="fas fa-times-circle text-gray-400 mt-1 mr-2 text-sm"></i>
<div>
<p class="font-bold text-gray-600 text-xs">CoT &amp; 외부 검색</p>
<p class="text-xs text-gray-500">복잡도 증가 대비 성능 하락</p>
</div>
</li>
<li class="flex items-start">
<i class="fas fa-times-circle text-gray-400 mt-1 mr-2 text-sm"></i>
<div>
<p class="font-bold text-gray-600 text-xs">법령 문서 추가</p>
<p class="text-xs text-gray-500">단순히 법령 문서를 VectorDB에 추가하였을 때 성능 하락</p>
</div>
</li>
</ul>
</div>
<!-- Insight Box -->
<div class="insight-box">
<div class="flex items-center mb-1 text-yellow-400">
<i class="fas fa-lightbulb mr-2 text-sm"></i>
<span class="font-bold text-xs">주요 발견점</span>
</div>
<p class="font-medium leading-relaxed text-sm">
                    <span class="text-brand-light font-bold">"데이터와 검색의 기본기가</span> 성능 향상을 이끌었으나,<br/>
<span class="border-b border-brand-light">CoT 및 외부 데이터 적용</span>은<br/>
                    더 적합한 접근법에 대한 실험이 필요합니다."
                </p>
</div>
</div>
<!-- Right Column: Chart -->
<div class="w-8/12 h-full">
<div class="chart-wrapper">
<canvas id="experimentChart"></canvas>
<!-- Custom Legend/Annotation -->
<div class="absolute top-4 right-4 bg-white bg-opacity-90 p-2 rounded border border-gray-200 text-xs shadow-sm">
<div class="flex items-center mb-1">
<span class="w-3 h-3 bg-brand rounded-sm mr-2"></span> Success (&gt;Base)
                </div>
<div class="flex items-center mb-1">
<span class="w-3 h-3 bg-gray-300 rounded-sm mr-2"></span> Failure (&lt;Base)
</div>
</div>
</div>
</div>
</div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('experimentChart').getContext('2d');
        
        // Data Points
        const labels = ['No RAG', 'Vector Only', 'Hybrid(RRF)', 'Hybrid(W)', 'WRRF(7:3)', 'Context(Q+A)', 'CoT', 'Tavily API', '법령문서'];
        const dataValues = [47.88, 51.35, 50.19, 50.58, 56.76, 52.90, 46.33, 54.05, 55.98];
        const baseline = 51.58;
        
        // Colors based on performance relative to baseline
        const backgroundColors = dataValues.map(value => {
            if (value === 56.76) return 'rgba(247, 47, 8, 0.9)'; // Best
            if (value > baseline) return 'rgba(247, 47, 8, 0.5)'; // Good
            return '#E5E7EB'; // Bad
        });

        const borderColors = dataValues.map(value => {
            if (value === 56.76) return 'rgba(247, 47, 8, 1)';
            if (value > baseline) return 'rgba(247, 47, 8, 0.8)';
            return '#D1D5DB';
        });

        // Baseline Line Data (Constant)
        const baselineData = new Array(labels.length).fill(baseline);

        const chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [
                    {
                        type: 'line',
                        label: 'Baseline (51.58%)',
                        data: baselineData,
                        backgroundColor: 'transparent',
                        borderColor: '#EF4444',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        order: 1,
                        fill: false
                    },
                    {
                        type: 'bar',
                        label: 'Accuracy (%)',
                        data: dataValues,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 1,
                        borderRadius: 4,
                        order: 2,
                        barPercentage: 0.6
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false // Using custom legend
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y + '%';
                                }
                                return label;
                            }
                        }
                    },
                    annotation: {
                        // Chart.js annotation plugin not loaded, using Line dataset instead
                    }
                },
                plugins: [{
                    id: 'customDataLabels',
                    afterDatasetsDraw: (chart, args, options) => {
                        const { ctx } = chart;
                        ctx.save();
                        chart.data.datasets.forEach((dataset, i) => {
                            if (dataset.type !== 'bar') return;
                            const meta = chart.getDatasetMeta(i);
                            meta.data.forEach((bar, index) => {
                                const data = dataset.data[index];
                                ctx.fillStyle = '#333333';
                                ctx.font = 'bold 11px Pretendard';
                                ctx.textAlign = 'center';
                                ctx.fillText(data + '%', bar.x, bar.y - 8);
                            });
                        });
                        ctx.restore();
                    }
                }],
                scales: {
                    y: {
                        min: 40,
                        max: 60,
                        grid: {
                            color: '#F3F4F6'
                        },
                        title: {
                            display: true,
                            text: 'Accuracy (%)',
                            font: {
                                size: 10,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                             font: {
                                size: 10
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 9,
                                family: "'Noto Sans KR', sans-serif"
                            },
                            maxRotation: 45,
                            minRotation: 0
                        }
                    }
                },
                animation: {
                    duration: 1500,
                    easing: 'easeOutQuart'
                }
            }
        });
    });
</script>
</div><script src="navigation.js"></script>
</body>
</html>